<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>
<body class="d-flex flex-column min-vh-100">

<%- include('partials/navbar') %>

<!-- No Family Details Modal -->
<div class="modal fade" id="noFamilyModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header bg-warning bg-opacity-10 border-0 py-2">
        <h6 class="modal-title mb-0"><i class="bi bi-exclamation-circle text-warning me-2"></i>No Details Found</h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-center py-3">
        <i class="bi bi-inbox text-muted mb-2" style="font-size: 2.5rem;"></i>
        <h6 class="fw-bold mb-2">No Family Details</h6>
        <p class="text-muted small mb-3">Please add your family details to continue.</p>
        <a href="/family-form" class="btn btn-primary btn-sm">
          <i class="bi bi-plus-lg me-1"></i>Add Family
        </a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid px-3 px-md-4 py-4" style="flex: 1; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
  
  <!-- Page Header with Gradient -->
  <div class="mb-4">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h1 class="h3 fw-bold mb-1">
          <i class="bi bi-people-fill text-primary me-2"></i>My Family
        </h1>
        <p class="text-muted small mb-0">Manage your family details</p>
      </div>
      <% if (members && members.length > 0) { %>
      <div class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
        <i class="bi bi-person-fill me-1"></i>
        <%= members.length %> Member<%= members.length !== 1 ? 's' : '' %>
      </div>
      <% } %>
    </div>
  </div>

  <% if (!members || !members.length) { %>
    <!-- No Family Data -->
    <div class="card border-0 shadow-sm">
      <div class="card-body text-center py-5">
        <i class="bi bi-inbox fs-1 text-muted mb-3 d-block"></i>
        <h4 class="fw-bold mb-3">No Family Data Found</h4>
        <p class="text-muted mb-4">Start by adding your family details</p>
        <a href="/family-form" class="btn btn-primary">
          <i class="bi bi-plus-lg me-2"></i>Add Family Details
        </a>
      </div>
    </div>
  <% } else { %>
    <% 
      const husband = members.find(m => m.relationship === 'husband');
      const wife = members.find(m => m.relationship === 'wife');
      const children = members.filter(m => m.member_type === 'child');
    %>

    <!-- Parents Card -->
    <% if (husband || wife) { %>
    <div class="card border-0 shadow-sm mb-4" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);">
      <div class="card-body p-3 p-md-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="fw-bold mb-0">
            <i class="bi bi-people me-2 text-primary"></i>Parents
            <% if (husband && wife) { %>
            <span class="badge bg-danger bg-opacity-10 text-danger ms-2">
              <i class="bi bi-heart-fill"></i> Married
            </span>
            <% } %>
          </h5>
        </div>
        
        <div class="row g-3">
          <!-- Husband -->
          <% if (husband) { %>
          <div class="col-12 col-lg-6">
            <div class="card h-100 border border-primary border-opacity-25 shadow-sm">
              <div class="card-body p-3">
                <div class="row g-3">
                  <div class="col-12 col-md-8 order-2 order-md-1">
                    <div class="position-relative">
                      <button class="btn btn-sm btn-outline-primary position-absolute top-0 end-0" onclick="openEditModal('husband', '<%= husband.id %>')">
                        <i class="bi bi-pencil-fill"></i> Edit
                      </button>
                      <h6 class="fw-bold text-primary mb-2"><%= husband.name %></h6>
                      <p class="badge bg-primary bg-opacity-10 text-primary mb-2">
                        <i class="bi bi-person-badge me-1"></i>Husband
                      </p>
                      <div class="small text-muted">
                        <p class="mb-1">
                          <i class="bi bi-telephone-fill text-primary me-2"></i>
                          <strong>Mobile:</strong> <%= husband.mobile || 'N/A' %>
                        </p>
                        <p class="mb-1">
                          <i class="bi bi-briefcase-fill text-success me-2"></i>
                          <strong>Occupation:</strong> <%= husband.occupation || 'N/A' %>
                        </p>
                        <% if (husband.dob) { %>
                        <p class="mb-1">
                          <i class="bi bi-calendar-fill text-info me-2"></i>
                          <strong>DOB:</strong> <%= new Date(husband.dob).toLocaleDateString() %>
                        </p>
                        <% } %>
                        <% if (husband.door_no || husband.street) { %>
                        <p class="mb-1">
                          <i class="bi bi-geo-alt-fill text-danger me-2"></i>
                          <strong>Address:</strong> 
                          <%= husband.door_no %><%= husband.street ? ', ' + husband.street : '' %>
                          <%= husband.district ? ', ' + husband.district : '' %>
                          <%= husband.state ? ', ' + husband.state : '' %>
                          <%= husband.pincode ? ' - ' + husband.pincode : '' %>
                        </p>
                        <% } %>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-md-4 order-1 order-md-2 text-center">
                    <% if (husband.photo && husband.photo.trim() !== "") { %>
                      <% let photoSrc = husband.photo; %>
                      <% const sizeMatch = photoSrc.match(/^(.+)\(\d+\)$/); %>
                      <% if (sizeMatch) photoSrc = sizeMatch[1]; %>
                      <% if (photoSrc.startsWith('/')) photoSrc = photoSrc.substring(1); %>
                      <% if (!photoSrc.startsWith('uploads/')) photoSrc = 'uploads/' + photoSrc; %>
                      <img src="/<%= photoSrc %>" alt="<%= husband.name %>" class="img-fluid rounded shadow-sm" style="max-height: 150px; object-fit: cover;">
                    <% } else { %>
                      <div class="bg-primary bg-opacity-10 rounded d-flex align-items-center justify-content-center shadow-sm" style="height: 150px;">
                        <i class="bi bi-person-fill text-primary" style="font-size: 4rem; opacity: 0.5;"></i>
                      </div>
                    <% } %>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <% } %>

          <!-- Wife -->
          <% if (wife) { %>
          <div class="col-12 col-lg-6">
            <div class="card h-100 border border-danger border-opacity-25 shadow-sm">
              <div class="card-body p-3">
                <div class="row g-3">
                  <div class="col-12 col-md-8 order-2 order-md-1">
                    <div class="position-relative">
                      <button class="btn btn-sm btn-outline-danger position-absolute top-0 end-0" onclick="openEditModal('wife', '<%= wife.id %>')">
                        <i class="bi bi-pencil-fill"></i> Edit
                      </button>
                      <h6 class="fw-bold text-danger mb-2"><%= wife.name %></h6>
                      <p class="badge bg-danger bg-opacity-10 text-danger mb-2">
                        <i class="bi bi-person-badge me-1"></i>Wife
                      </p>
                      <div class="small text-muted">
                        <p class="mb-1">
                          <i class="bi bi-telephone-fill text-primary me-2"></i>
                          <strong>Mobile:</strong> <%= wife.mobile || 'N/A' %>
                        </p>
                        <p class="mb-1">
                          <i class="bi bi-briefcase-fill text-success me-2"></i>
                          <strong>Occupation:</strong> <%= wife.occupation || 'N/A' %>
                        </p>
                        <% if (wife.dob) { %>
                        <p class="mb-1">
                          <i class="bi bi-calendar-fill text-info me-2"></i>
                          <strong>DOB:</strong> <%= new Date(wife.dob).toLocaleDateString() %>
                        </p>
                        <% } %>
                        <% if (wife.door_no || wife.street) { %>
                        <p class="mb-1">
                          <i class="bi bi-geo-alt-fill text-danger me-2"></i>
                          <strong>Address:</strong> 
                          <%= wife.door_no %><%= wife.street ? ', ' + wife.street : '' %>
                          <%= wife.district ? ', ' + wife.district : '' %>
                          <%= wife.state ? ', ' + wife.state : '' %>
                          <%= wife.pincode ? ' - ' + wife.pincode : '' %>
                        </p>
                        <% } %>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-md-4 order-1 order-md-2 text-center">
                    <% if (wife.photo && wife.photo.trim() !== "") { %>
                      <% let photoSrc = wife.photo; %>
                      <% const sizeMatch = photoSrc.match(/^(.+)\(\d+\)$/); %>
                      <% if (sizeMatch) photoSrc = sizeMatch[1]; %>
                      <% if (photoSrc.startsWith('/')) photoSrc = photoSrc.substring(1); %>
                      <% if (!photoSrc.startsWith('uploads/')) photoSrc = 'uploads/' + photoSrc; %>
                      <img src="/<%= photoSrc %>" alt="<%= wife.name %>" class="img-fluid rounded shadow-sm" style="max-height: 150px; object-fit: cover;">
                    <% } else { %>
                      <div class="bg-danger bg-opacity-10 rounded d-flex align-items-center justify-content-center shadow-sm" style="height: 150px;">
                        <i class="bi bi-person-fill text-danger" style="font-size: 4rem; opacity: 0.5;"></i>
                      </div>
                    <% } %>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <% } %>
        </div>
      </div>
    </div>
    <% } %>

    <!-- Children Card -->
    <% if (children.length > 0) { %>
    <div class="card border-0 shadow-sm" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);">
      <div class="card-body p-3 p-md-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="fw-bold mb-0">
            <i class="bi bi-people me-2 text-success"></i>Children
          </h5>
          <span class="badge bg-success bg-opacity-10 text-success px-3 py-2">
            <i class="bi bi-person-fill me-1"></i><%= children.length %> Child<%= children.length !== 1 ? 'ren' : '' %>
          </span>
        </div>
        
        <div class="row g-3">
          <% children.forEach(child => { %>
          <div class="col-12 col-lg-6">
            <div class="card h-100 border border-success border-opacity-25">
              <div class="card-body p-3">
                <div class="row g-3">
                  <div class="col-12 col-md-8 order-2 order-md-1">
                    <div class="position-relative">
                      <button class="btn btn-sm btn-outline-success position-absolute top-0 end-0" onclick="openEditModal('child', '<%= child.id %>')">
                        <i class="bi bi-pencil-fill"></i> Edit
                      </button>
                      <h6 class="fw-bold text-success mb-2"><%= child.name %></h6>
                      <p class="badge bg-success bg-opacity-10 text-success mb-2">
                        <i class="bi bi-person me-1"></i><%= child.relationship || 'Child' %>
                      </p>
                      <div class="small text-muted">
                        <% if (child.mobile) { %>
                        <p class="mb-1">
                          <i class="bi bi-telephone-fill text-success me-2"></i>
                          <strong>Mobile:</strong> <%= child.mobile %>
                        </p>
                        <% } %>
                        <% if (child.occupation) { %>
                        <p class="mb-1">
                          <i class="bi bi-briefcase-fill text-success me-2"></i>
                          <strong>Occupation:</strong> <%= child.occupation %>
                        </p>
                        <% } %>
                        <% if (child.dob) { %>
                        <p class="mb-1">
                          <i class="bi bi-calendar-fill text-info me-2"></i>
                          <strong>DOB:</strong> <%= new Date(child.dob).toLocaleDateString() %>
                        </p>
                        <% } %>
                        <% 
                          let gender = child.gender;
                          if (!gender || gender === '-') {
                            if (child.relationship === 'son') gender = 'Male';
                            else if (child.relationship === 'daughter') gender = 'Female';
                          }
                          if (gender && gender !== '-') {
                        %>
                        <p class="mb-1">
                          <i class="bi bi-gender-ambiguous text-info me-2"></i>
                          <strong>Gender:</strong> <%= gender %>
                        </p>
                        <% } %>
                        <% 
                          // Check if child has own address or uses parent's
                          const hasOwnAddress = child.door_no || child.street || child.district;
                          const usesParentAddress = !hasOwnAddress && (husband || wife);
                          let displayAddress = '';
                          
                          if (hasOwnAddress) {
                            displayAddress = [child.door_no, child.street, child.district, child.state].filter(Boolean).join(', ');
                            if (child.pincode) displayAddress += ' - ' + child.pincode;
                          } else if (usesParentAddress) {
                            const parent = husband || wife;
                            displayAddress = [parent.door_no, parent.street, parent.district, parent.state].filter(Boolean).join(', ');
                            if (parent.pincode) displayAddress += ' - ' + parent.pincode;
                          }
                          
                          if (displayAddress) {
                        %>
                        <p class="mb-1">
                          <i class="bi bi-geo-alt-fill text-danger me-2"></i>
                          <strong>Address:</strong> <%= displayAddress %>
                          <% if (usesParentAddress) { %>
                          <span class="badge bg-info bg-opacity-10 text-info ms-1" style="font-size: 0.7rem;">
                            <i class="bi bi-house-fill"></i> Same as parent
                          </span>
                          <% } %>
                        </p>
                        <% } %>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-md-4 order-1 order-md-2 text-center">
                    <% if (child.photo && child.photo.trim() !== "") { %>
                      <% let photoSrc = child.photo; %>
                      <% const sizeMatch = photoSrc.match(/^(.+)\(\d+\)$/); %>
                      <% if (sizeMatch) photoSrc = sizeMatch[1]; %>
                      <% if (photoSrc.startsWith('/')) photoSrc = photoSrc.substring(1); %>
                      <% if (!photoSrc.startsWith('uploads/')) photoSrc = 'uploads/' + photoSrc; %>
                      <img src="/<%= photoSrc %>" alt="<%= child.name %>" class="img-fluid rounded shadow-sm" style="max-height: 150px; object-fit: cover;">
                    <% } else { %>
                      <div class="bg-success bg-opacity-10 rounded d-flex align-items-center justify-content-center shadow-sm" style="height: 150px;">
                        <i class="bi bi-person-fill text-success" style="font-size: 4rem; opacity: 0.5;"></i>
                      </div>
                    <% } %>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
        </div>
      </div>
    </div>
    <% } %>
    
    <!-- Add Child Button -->
    <% if (members && members.length > 0) { %>
    <div class="text-center mt-4">
      <button class="btn btn-success" onclick="window.location.href='/family-form?mode=addChild'">
        <i class="bi bi-plus-lg me-2"></i>Add Child
      </button>
    </div>
    <% } %>
  <% } %>

</div>

<!-- Edit Member Modal -->
<div class="modal fade" id="editMemberModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-light">
        <h5 class="modal-title fw-bold" id="editModalTitle">
          <i class="bi bi-pencil-square me-2"></i>Edit Member
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="editMemberForm" enctype="multipart/form-data">
          <input type="hidden" id="memberId" name="memberId">
          <input type="hidden" id="memberType" name="memberType">
          
          <!-- Basic Information -->
          <div class="card mb-3 border-0 bg-light">
            <div class="card-body">
              <h6 class="fw-bold mb-3"><i class="bi bi-person-fill me-2 text-primary"></i>Basic Information</h6>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Name <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="editName" name="name" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Mobile</label>
                  <input type="text" class="form-control" id="editMobile" name="mobile" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Occupation</label>
                  <input type="text" class="form-control" id="editOccupation" name="occupation">
                </div>
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Date of Birth</label>
                  <input type="date" class="form-control" id="editDob" name="dob">
                </div>
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Gender</label>
                  <select class="form-control" id="editGender" name="gender">
                    <option value="">Select</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label small fw-semibold">Photo</label>
                  <input type="file" class="form-control" id="editPhoto" name="photo" accept="image/*">
                  <img id="currentPhoto" src="" alt="" class="img-thumbnail mt-2" style="max-height: 100px; display: none;">
                </div>
              </div>
            </div>
          </div>

          <!-- Address Information -->
          <div class="card mb-3 border-0 bg-light" id="addressSection" style="display: none;">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h6 class="fw-bold mb-0"><i class="bi bi-geo-alt-fill me-2 text-danger"></i>Address Information</h6>
                <div class="form-check form-switch" id="sameAsParentToggle" style="display: none;">
                  <input class="form-check-input" type="checkbox" id="sameAsParentCheckbox" onchange="toggleChildAddress()">
                  <label class="form-check-label small fw-semibold" for="sameAsParentCheckbox">
                    <i class="bi bi-house-fill me-1"></i>Same as Parent
                  </label>
                </div>
              </div>
              <div id="addressFields">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label small fw-semibold">Door No</label>
                    <input type="text" class="form-control" id="editDoorNo" name="door_no" placeholder="House/Flat No">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label small fw-semibold">Street</label>
                    <input type="text" class="form-control" id="editStreet" name="street" placeholder="Street Name">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label small fw-semibold">District</label>
                    <input type="text" class="form-control" id="editDistrict" name="district" placeholder="District">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label small fw-semibold">State</label>
                    <input type="text" class="form-control" id="editState" name="state" placeholder="State">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label small fw-semibold">Pincode</label>
                    <input type="text" class="form-control" id="editPincode" name="pincode" placeholder="Pincode">
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="mt-3 d-flex justify-content-end gap-2">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              <i class="bi bi-x-circle me-1"></i>Cancel
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="bi bi-check-lg me-1"></i>Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
<%- include('partials/scripts') %>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
// Check if no family exists and show modal
<% if (!members || !members.length) { %>
  document.addEventListener('DOMContentLoaded', function() {
    // Only show modal if not redirecting to form
    const urlParams = new URLSearchParams(window.location.search);
    if (!urlParams.get('showModal')) {
      window.location.href = '/family-form';
    }
  });
<% } %>

function toggleChildAddress() {
  const checkbox = document.getElementById('sameAsParentCheckbox');
  const addressFields = document.getElementById('addressFields');
  
  if (checkbox.checked) {
    // Disable and clear address fields
    addressFields.style.opacity = '0.5';
    addressFields.querySelectorAll('input').forEach(input => {
      input.disabled = true;
      input.value = '';
    });
  } else {
    // Enable address fields
    addressFields.style.opacity = '1';
    addressFields.querySelectorAll('input').forEach(input => {
      input.disabled = false;
    });
  }
}

function openEditModal(type, memberId) {
  const modal = new bootstrap.Modal(document.getElementById('editMemberModal'));
  
  // Set modal title
  const titles = {
    husband: 'Edit Husband',
    wife: 'Edit Wife',
    child: 'Edit Child'
  };
  document.getElementById('editModalTitle').innerHTML = '<i class="bi bi-pencil-square me-2"></i>' + (titles[type] || 'Edit Member');
  
  // Set hidden fields
  document.getElementById('memberId').value = memberId;
  document.getElementById('memberType').value = type;
  
  // Show/hide address section and toggle
  const addressSection = document.getElementById('addressSection');
  const sameAsParentToggle = document.getElementById('sameAsParentToggle');
  
  addressSection.style.display = 'block'; // Always show address section
  
  if (type === 'child') {
    sameAsParentToggle.style.display = 'block'; // Show toggle for children
  } else {
    sameAsParentToggle.style.display = 'none'; // Hide toggle for parents
  }
  
  // Fetch member data
  fetch(`/get-member/${memberId}`)
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        const member = data.member;
        document.getElementById('editName').value = member.name || '';
        document.getElementById('editMobile').value = member.mobile || '';
        document.getElementById('editOccupation').value = member.occupation || '';
        document.getElementById('editDob').value = member.dob ? member.dob.split('T')[0] : '';
        document.getElementById('editGender').value = member.gender || '';
        
        // Handle address fields for both parents and children
        document.getElementById('editDoorNo').value = member.door_no || '';
        document.getElementById('editStreet').value = member.street || '';
        document.getElementById('editDistrict').value = member.district || '';
        document.getElementById('editState').value = member.state || '';
        document.getElementById('editPincode').value = member.pincode || '';
        
        // Handle "same as parent" checkbox for children only
        if (type === 'child') {
          const hasOwnAddress = member.door_no || member.street || member.district;
          const checkbox = document.getElementById('sameAsParentCheckbox');
          
          if (hasOwnAddress) {
            // Child has own address
            checkbox.checked = false;
            toggleChildAddress();
          } else {
            // Child uses parent address
            checkbox.checked = true;
            toggleChildAddress();
          }
        } else {
          // For parents, enable all fields
          const addressFields = document.getElementById('addressFields');
          addressFields.style.opacity = '1';
          addressFields.querySelectorAll('input').forEach(input => {
            input.disabled = false;
          });
        }
        
        // Show current photo if exists
        if (member.photo) {
          let photoSrc = member.photo;
          if (photoSrc.startsWith('/')) photoSrc = photoSrc.substring(1);
          if (!photoSrc.startsWith('uploads/')) photoSrc = 'uploads/' + photoSrc;
          document.getElementById('currentPhoto').src = '/' + photoSrc;
          document.getElementById('currentPhoto').style.display = 'block';
        } else {
          document.getElementById('currentPhoto').style.display = 'none';
        }
        
        modal.show();
      }
    })
    .catch(err => {
      console.error('Error fetching member:', err);
      Swal.fire({
        icon: 'error',
        title: 'Error',
        text: 'Failed to load member details',
        confirmButtonColor: '#4F46E5'
      });
    });
}

// Handle form submission
document.getElementById('editMemberForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const formData = new FormData(this);
  const memberId = document.getElementById('memberId').value;
  const memberType = document.getElementById('memberType').value;
  
  let endpoint = '';
  if (memberType === 'husband') {
    endpoint = '/update-husband';
  } else {
    endpoint = `/update-member/${memberId}`;
  }
  
  fetch(endpoint, {
    method: 'POST',
    body: formData
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      Swal.fire({
        icon: 'success',
        title: 'Success',
        text: 'Member updated successfully!',
        confirmButtonColor: '#4F46E5'
      }).then(() => {
        window.location.reload();
      });
    } else {
      Swal.fire({
        icon: 'error',
        title: 'Update Failed',
        text: data.message || 'Failed to update member',
        confirmButtonColor: '#4F46E5'
      });
    }
  })
  .catch(err => {
    console.error('Error:', err);
    Swal.fire({
      icon: 'error',
      title: 'Error',
      text: 'An error occurred while updating the member',
      confirmButtonColor: '#4F46E5'
    });
  });
});
</script>

</body>
</html>
